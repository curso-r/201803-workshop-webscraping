<!DOCTYPE html>
<html>
  <head>
    <title>Workshop: Web Scraping em R</title>
    <meta charset="utf-8">
    <meta name="author" content="Caio Lente + Fernando Corrêa" />
    <meta name="date" content="2018-03-10" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Workshop: Web Scraping em R
### Caio Lente + Fernando Corrêa
### 2018-03-10

---


&lt;!-- ### GLOBAIS ########################################################## --&gt;





&lt;!-- ### ABERTURA ######################################################### --&gt;

# Quem Somos

---
# Conteúdo

---
# Quando usar/não-usar web scraping



&lt;!-- ### IDENTIFICAR ###################################################### --&gt;

---
class: inverse, center, middle
# IDENTIFICAR

---
x Introdução
o Encontrar o que você quer (example web scraping website)
o Texto
o Imagem
o PDF
o Áudio



&lt;!-- ### NAVEGAR ########################################################## --&gt;

---
class: inverse, center, middle
# NAVEGAR

---
x HTML (estrutura básica de arquivo)
x HTML (div's, span e outros tags de conteúdo)
x HTML (atributos)
x CSS (estilizador de html)
x CSS (seletores)
o selector gadget
x outra forma de fazer seleção: XPATH
x xml2 para encontrar coisas (salvar arquivo + read_html)
x xml_find(_all)?
x Exemplo 1:
 - Inspect Texto
x Exemplo 2:
 - Inspect Imagem



&lt;!-- ### REPLICAR ######################################################### --&gt;

---
class: inverse, center, middle
# REPLICAR

---
x protocolo HTTP
x requisições
x exemplo de GET
x exemplo de POST
x respostas
   - o que tem na resposta
       - cookies
       - html
       - status
x Network (como que eu vejo as requests acontecendo)
x httr (como fazer requisições em R)
x httr exemplo: GET e POST
x httr o que vem na resposta
x abrir o html pra ver se deu certo



&lt;!-- ### PARSEAR ########################################################## --&gt;

---
class: inverse, center, middle
# PARSEAR

---

x xml2
x extraindo texto
x select tag do texto
x xml_text
x download de imagem
x tidy output
BREAK (mais ou menos por aqui começa um exemplo)
x example site
o exercícios
 1. logar numa conta (fazer o POST)
 2. baixar a página de andorra
 3. extrair os dados de andorra numa tabela



&lt;!-- ### ITERAR ########################################################### --&gt;

---
class: inverse, center, middle
# ITERAR

---
x baixar html
x salvar tidy output
x carefully
x walk    
o exercício
 1. baixe as páginas de todos os países
 IP BLOCK (os caras vão ter que dar ip 1)
TALVEZ OUTRO (OU O PRIMEIRO) BREAK POSSA ACONTECER AQUI



&lt;!-- ### VALIDAR ########################################################## --&gt;

---
class: inverse, center, middle
# VALIDAR

---
x Event validation e view state (asp)
 - TODO: PENSAR EM OUTRO EXEMPLO
x Páginas jsp
 - TODO:  PENSAR EM OUTRO EXEMPLO
x Evitar armadilhas (catpchas, etc)
 - bloqueio de IP
 - Hackear a URL (comentar)



&lt;!-- ### MISCELÂNEA ####################################################### --&gt;

---
class: inverse, center, middle
# MISCELÂNEA

---
x paralelização e distribuição
x Interatividade
x JS (V8, etc)
x Selenium, phantom
x RMouse



&lt;!-- ### CAPTCHAS ######################################################### --&gt;

---
class: inverse, center, middle
# CAPTCHAS

---
x Modelos ad hoc
x lendo a imagem no R (pacote de ler jpeg ou wtv)
x interpretando o conteudo
x filtrando com magick
x tesseract
o exercíco
 1. faça uma conta automaticamente
x Modelos keras
 - TODO: EXPLICA OU NÃO?
x decryptr
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
